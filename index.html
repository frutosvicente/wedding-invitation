<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Invitación de boda · Photobooth</title>
<style>
:root{
  --bg1:#ffffff; --bg2:#f6f6f6;
  --ink:#2a2a2a; --gold:#d4af37;
  --btn:#e01919; --frame:#ffffff;
  --shadow:0 18px 60px rgba(0,0,0,.18);
  --slide-out:150px; /* cuánto asoma antes de acoplar */
}
*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  font-family:Georgia,serif;color:var(--ink);
  background:linear-gradient(to bottom,var(--bg1),var(--bg2));
  overflow-x:hidden;
}
.wrap{display:flex;flex-direction:column;align-items:center;padding:24px;gap:24px}

/* Máquina */
.photobooth{
  width:min(560px,92vw);
  background:linear-gradient(135deg,#ececec,#d2d2d2);
  border-radius:22px 22px 12px 12px;
  padding:24px 22px 18px;
  position:relative; box-shadow:var(--shadow);
}
.photobooth::before{
  content:""; position:absolute; top:10px; left:50%; transform:translateX(-50%);
  width:68px; height:10px; border-radius:6px; background:#a9a9a9;
}
.screen{
  background:#121212; border-radius:12px; padding:24px 18px; text-align:center;
  box-shadow:inset 0 6px 18px rgba(0,0,0,.55);
}
.t1{color:var(--gold);letter-spacing:.2em;text-transform:uppercase;margin:0 0 6px;font-size:14px}
.t2{color:#9a9a9a;font:500 12px/1.2 Arial,sans-serif;margin:0}
.button-zone{display:flex;justify-content:center;padding:16px 0 12px}
.red-btn{
  width:104px;height:104px;border-radius:50%;
  background:radial-gradient(circle at 30% 30%,#ff5151,var(--btn));
  border:6px solid #1f1f1f;cursor:pointer;
  box-shadow:0 10px 26px rgba(224,25,25,.45),inset 0 -6px 12px rgba(0,0,0,.35);
  transition:transform .15s ease;position:relative;z-index:10;
}
.red-btn:hover{transform:translateY(-2px)}
.red-btn:active{transform:translateY(2px)}
.red-btn::after{
  content:"PRESS";position:absolute;left:50%;transform:translateX(-50%);
  margin-top:116px;font:600 11px/1 Arial,sans-serif;letter-spacing:.22em;color:#6d6d6d;
}

/* Ranura */
.slot{
  width:min(420px,80%);height:22px;margin:0 auto;
  background:#121212;border-radius:0 0 12px 12px;
  box-shadow:inset 0 4px 10px rgba(0,0,0,.65);
  position:relative;overflow:hidden; /* recorta por defecto */
}
.slot.releasing{ overflow:visible; } /* durante el slide, no recorta */

/* Tira (dentro de la ranura, centrada) */
.strip{
  position:absolute;left:50%;bottom:0;transform:translate(-50%,100%);
  width:min(400px,78vw); /* un pelín más estrecha que la ranura */
  background:var(--frame);border-radius:8px;
  padding:18px 14px;box-shadow:var(--shadow);
  opacity:0;pointer-events:none;z-index:20;
}
@keyframes slideOut{
  0%{transform:translate(-50%,100%);opacity:1;}
  100%{transform:translate(-50%,var(--slide-out));opacity:1;}
}
.strip.is-sliding{animation:slideOut 2.2s cubic-bezier(.22,.82,.27,1) forwards}

/* Tira acoplada (flujo normal, centrada y página hace scroll) */
.strip.is-docked{
  position:relative; left:auto; bottom:auto; transform:none; opacity:1; pointer-events:auto;
  width:min(760px,96vw);
  margin: calc(var(--slide-out) + 8px) auto 0; /* centrada con auto */
}

/* Cada “foto” */
.frame{
  background:#fff;border:12px solid #fff;border-radius:10px;
  margin:14px 10px 18px;box-shadow:0 6px 24px rgba(0,0,0,.12);
}
.content{
  min-height:clamp(240px,72svh,760px);
  padding:clamp(18px,4vw,34px);
  display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;
  background:linear-gradient(135deg,#fafafa,#f0f0f0);
}
.num{font:600 12px/1 Arial,sans-serif;letter-spacing:.32em;color:var(--gold);margin-bottom:12px}
.ttl{font-size:clamp(26px,4.2vw,40px);margin:0 0 6px}
.amp{font:500 16px/1 Arial,sans-serif;color:#777;margin:6px 0 10px}
.sub{font:400 15px/1.5 Arial,sans-serif;color:#666;max-width:38ch}
.divider{width:64px;height:2px;background:var(--gold);margin:12px auto 10px}
.label{font:700 11px/1 Arial,sans-serif;text-transform:uppercase;letter-spacing:.24em;color:var(--gold);margin:10px 0 6px}
.detail{font:400 16px/1.5 Arial,sans-serif;color:#555}

.footer{text-align:center;color:#9a9a9a;font:600 12px/1 Arial,sans-serif;letter-spacing:.22em;margin-top:40px}

@media (max-width:600px){
  :root{--slide-out:120px;}
  .photobooth{padding:18px 14px 14px}
  .red-btn{width:86px;height:86px}
  .frame{border-width:10px}
}
</style>
</head>
<body>
<div class="wrap">
  <section class="photobooth" id="photobooth">
    <div class="screen">
      <p class="t1" id="s1">LISTO PARA CAPTURAR</p>
      <p class="t2" id="s2">Pulsa el botón para comenzar</p>
    </div>
    <div class="button-zone">
      <button class="red-btn" id="btn" aria-label="Mostrar invitación"></button>
    </div>
    <div class="slot" id="slot">
      <div class="strip" id="strip">
        <article class="frame"><div class="content"><div class="num">01</div><h2 class="ttl">Lidia</h2><div class="amp">&amp;</div><h2 class="ttl">Jorge</h2><div class="divider"></div><p class="sub">26·09·2026</p></div></article>
        <article class="frame"><div class="content"><div class="num">02</div><h3 class="ttl">Nuestra historia</h3><div class="divider"></div><p class="sub">Dos corazones, un camino. Desde que nos conocimos supimos que la historia acababa de empezar. Ahora queremos compartir el siguiente capítulo con vosotros.</p></div></article>
        <article class="frame"><div class="content"><div class="num">03</div><h3 class="ttl">Detalles</h3><div class="divider"></div><div class="label">Ceremonia</div><div class="detail">17:00 · —</div><div class="label">Cena</div><div class="detail">20:00 · —</div><div class="label">Fiesta</div><div class="detail">23:30 · —</div></div></article>
        <article class="frame"><div class="content"><div class="num">04</div><h3 class="ttl">Confirmación</h3><div class="divider"></div><p class="sub">Confirma tu asistencia antes del 26/08/2026<br><br>Contacto: wedding@frutosmorin.com<br>+34 600 000 000</p></div></article>
      </div>
    </div>
  </section>

  <!-- la tira quedará aquí (flujo normal) tras el slide -->
  <div id="dock"></div>

  <p class="footer">Jorge & Lidia — 26·09·2026</p>
</div>

<script>
document.addEventListener('DOMContentLoaded',()=>{
  const btn  = document.getElementById('btn');
  const strip= document.getElementById('strip');
  const slot = document.getElementById('slot');
  const dock = document.getElementById('dock');
  let started=false, docked=false;

  btn.addEventListener('click',()=>{
    if(started) return; started=true;

    // Deja ver fuera de la ranura durante el slide
    slot.classList.add('releasing');

    // Asegura que la animación arranca (reflow)
    strip.style.opacity='1';
    void strip.offsetWidth;           // <-- fuerza reflow
    strip.classList.add('is-sliding');

    // Cuando acaba el slide: acoplar debajo y centrar
    strip.addEventListener('animationend',()=>{
      if(docked) return;
      docked=true;

      slot.classList.remove('releasing'); // ya no hace falta
      strip.classList.remove('is-sliding');
      strip.classList.add('is-docked');

      // Mover al flujo normal, justo debajo del photobooth
      dock.insertAdjacentElement('afterbegin', strip);

      // Alinear centrado y en el punto correcto
      strip.style.marginLeft='auto';
      strip.style.marginRight='auto';

      // Scroll hasta el inicio de la tira (opcional)
      window.scrollTo({ top: slot.getBoundingClientRect().top + window.scrollY, behavior: 'smooth' });
    }, { once:true });
  });
});
</script>
</body>
</html>
